<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
  <title>landing page DEAB</title>
  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/sweetalert2.min.css" />
  <link rel="stylesheet" href="scss/index.scss" />
  <!-- <link rel="stylesheet" href="css/modal.css" />
  <link rel="stylesheet" href="css/index-480.css" />
  <link rel="stylesheet" href="css/index-670.css" />
  <link rel="stylesheet" href="css/flickity.css" media="screen" /> -->
</head>

<body>

  <div id="wrapper" class="wrapper">

    <header class="header">
      <div class="container">



        <nav class="header-menu">
          <ul class="header-list">
            <li class="header-item">
              <a href="#home" class="header-item__link">
                Home
              </a>
            </li>
            <li class="header-item">
              <a href="#features" class="header-item__link">
                Features
              </a>
            </li>
            <li class="header-item">
              <div class="logo">
                <img src="" alt="cellphone" class="hello__picture" />
              </div>
            </li>
            <li class="header-item">
              <a href="#testimonials" class="header-item__link">
                Testimonials
              </a>
            </li>
            <li class="header-item">
              <a href="#pricing" class="header-item__link">
                Pricing
              </a>
            </li>

          </ul>
        </nav>

      </div> <!-- /container -->
    </header>

    <main class="main">
      <!-- 01 -->
      <section id="home" class="hello">
        <div class="container row">
          <h2 class="overview__title">
            Lorem ipsum dolor sit
          </h2>
<h2 class="q111">kd;</h2>
          <h3 class="overview__sub-title">
            List of amazing features
          </h3>
        </div>
      </section>
      <!-- 02 -->
      <section id="features" class="overview">
        <div class="container">


        </div>
      </section>
      <!-- 03 -->
      <section id="about" class="details">
        <div class="container row">


        </div>
      </section>
      <!-- 04 -->
      <section class="customize">
        <div class="container row">


        </div>
      </section>
      <!-- 05 -->
      <section id="testimonials" class="pricings">
        <div class="container">


        </div> <!-- /container -->
      </section>
      <!-- 06 -->
      <section id="pricing" class="price">
        <div class="container">


        </div>
      </section>
      <!-- 07 -->
      <section id="contact" class="contact">
        <div class="container">

          <form class="contact-form" id="formId" method="POST" enctype="application/x-www-form-urlencoded"
            action="http://httpbin.org/get" autocomplete="on">
            <div class="container row">
              <div class="column">
                <label class="contact-form__label">
                  <input class="contact-form__input" type="text" name="nameName" autocomplete="off" placeholder="&nbsp;"
                    spellcheck="true" />
                  <span class="contact-form__span">NAME*</span>
                </label>

                <label class="contact-form__label">
                  <input class="contact-form__input" type="email" name="email" autocomplete="off"
                    placeholder="&nbsp;" />
                  <span class="contact-form__span">EMAIL*</span>
                </label>

                <label class="contact-form__label">
                  <input class="contact-form__input" type="text" name="phone" autocomplete="off" placeholder="&nbsp;"
                    spellcheck="true" />
                  <span class="contact-form__span">SUBJECT*</span>
                </label>

              </div> <!-- /column -->
              <div class="column">
                <label class="contact-form__label">
                  <textarea class="contact-form__input _message" name="message" maxlength="500" placeholder="&nbsp;"
                    wrap="hard"></textarea>
                  <span class="contact-form__span-mes">MESSAGE*</span>
                </label>

                <button type="submit" value="кнопка Submit" class="contact-form__button _accent _left">
                  Send message
                </button>
              </div> <!-- /column -->
            </div> <!-- /container  -->
          </form>
        </div>

      </section>
    </main>

    <footer class="footer">
      <div class="container">

      </div>
    </footer>

  </div>

  <!-- <script src="app.js"></script> -->
  <script src="js/sweetalert2.min.js"></script>
  <script src="js/axios.min.js"></script>
  <script>
    const form = document.getElementById('formId');
    form.addEventListener("submit", function (event) {
      event.preventDefault();
      event.stopPropagation();

      const parsedForm = event.target.querySelectorAll('input, textarea');
      console.log(parsedForm);

      const prsObj = {};
      for (let val of parsedForm) {
        prsObj[val.name] = val.value;
      }
      console.log(prsObj);


      axios.post('http://localhost:5000/call', prsObj)


        .then(response => {
          console.log(response);
          Swal.fire(
            response.data,
            'Всё хорошо, сервер принял запрос.',
            'success'
          )
        })
        .catch(error => {
          console.error(error.response.data);
          Swal.fire({
            type: 'error',
            title: 'Что-то пошло не так.',
            text: error.response.data,
            footer: 'Сервер запрос не принял.'
          })
        });

    });
  </script>

</body>

</html>