{"id":"RSqK","dependencies":[{"name":"C:\\KN\\LP_DEAB\\package.json","includedInParent":true,"mtime":1561679960630},{"name":"C:\\KN\\LP_DEAB\\.browserslistrc","includedInParent":true,"mtime":1561360031610}],"generated":{"js":"document.addEventListener(\"DOMContentLoaded\",function(){var e=Math.abs(document.body.clientWidth-window.innerWidth)+\"px\",o=function(){return window.pageYOffset||window.scrollY},t=document.body.style.overflow||\"initial\";var n=Array.from(document.querySelectorAll(\"[mobile-menu]\"));console.log(\"modalTrigger = \"+n),n.forEach(function(n){n.addEventListener(\"click\",function(n){var l,d=n.target.attributes[\"mobile-menu\"].value;console.log(\"targetModalId = \"+d),l=d,prevScrollYPosition=o(),t=document.body.style.overflow,document.getElementById(l).classList.add(\"_opened\"),document.body.style.overflow=\"hidden\",document.body.style.marginRight=e,btnOpenElem.classList.remove(\"_visible\")})});var l=Array.from(document.querySelectorAll(\"[mobile-menu-close]\"));console.log(l),l.forEach(function(e){e.addEventListener(\"click\",function(e){var o,n=e.target.attributes[\"mobile-menu-close\"].value;console.log(\"targetModalId = \"+n),o=n,document.getElementById(o).classList.remove(\"_opened\"),setTimeout(function(){document.body.style.overflow=t,document.body.style.marginRight=0,btnOpenElem.classList.add(\"_visible\")},200)})})});"},"sourceMaps":{"js":{"mappings":[{"source":"js/modal.js","name":"document","original":{"line":4,"column":0},"generated":{"line":1,"column":0}},{"source":"js/modal.js","name":"addEventListener","original":{"line":4,"column":9},"generated":{"line":1,"column":9}},{"source":"js/modal.js","original":{"line":4,"column":26},"generated":{"line":1,"column":26}},{"source":"js/modal.js","original":{"line":4,"column":46},"generated":{"line":1,"column":45}},{"source":"js/modal.js","name":"scrollbarWidth","original":{"line":7,"column":8},"generated":{"line":1,"column":56}},{"source":"js/modal.js","name":"scrollbarWidth","original":{"line":7,"column":8},"generated":{"line":1,"column":60}},{"source":"js/modal.js","name":"Math","original":{"line":7,"column":25},"generated":{"line":1,"column":62}},{"source":"js/modal.js","name":"abs","original":{"line":7,"column":30},"generated":{"line":1,"column":67}},{"source":"js/modal.js","name":"document","original":{"line":7,"column":34},"generated":{"line":1,"column":71}},{"source":"js/modal.js","name":"body","original":{"line":7,"column":43},"generated":{"line":1,"column":80}},{"source":"js/modal.js","name":"clientWidth","original":{"line":7,"column":48},"generated":{"line":1,"column":85}},{"source":"js/modal.js","name":"window","original":{"line":7,"column":62},"generated":{"line":1,"column":97}},{"source":"js/modal.js","name":"innerWidth","original":{"line":7,"column":69},"generated":{"line":1,"column":104}},{"source":"js/modal.js","original":{"line":7,"column":83},"generated":{"line":1,"column":116}},{"source":"js/modal.js","name":"pageOffset","original":{"line":9,"column":8},"generated":{"line":1,"column":121}},{"source":"js/modal.js","original":{"line":9,"column":21},"generated":{"line":1,"column":123}},{"source":"js/modal.js","name":"window","original":{"line":9,"column":28},"generated":{"line":1,"column":134}},{"source":"js/modal.js","name":"window","original":{"line":9,"column":28},"generated":{"line":1,"column":141}},{"source":"js/modal.js","name":"pageYOffset","original":{"line":9,"column":35},"generated":{"line":1,"column":148}},{"source":"js/modal.js","name":"window","original":{"line":9,"column":50},"generated":{"line":1,"column":161}},{"source":"js/modal.js","name":"scrollY","original":{"line":9,"column":57},"generated":{"line":1,"column":168}},{"source":"js/modal.js","name":"prevBodyOverflow","original":{"line":10,"column":6},"generated":{"line":1,"column":177}},{"source":"js/modal.js","name":"document","original":{"line":10,"column":25},"generated":{"line":1,"column":179}},{"source":"js/modal.js","name":"body","original":{"line":10,"column":34},"generated":{"line":1,"column":188}},{"source":"js/modal.js","name":"style","original":{"line":10,"column":39},"generated":{"line":1,"column":193}},{"source":"js/modal.js","name":"overflow","original":{"line":10,"column":45},"generated":{"line":1,"column":199}},{"source":"js/modal.js","original":{"line":10,"column":57},"generated":{"line":1,"column":209}},{"source":"js/modal.js","name":"modalTrigger","original":{"line":36,"column":8},"generated":{"line":1,"column":219}},{"source":"js/modal.js","name":"modalTrigger","original":{"line":36,"column":8},"generated":{"line":1,"column":223}},{"source":"js/modal.js","name":"Array","original":{"line":36,"column":23},"generated":{"line":1,"column":225}},{"source":"js/modal.js","name":"from","original":{"line":36,"column":29},"generated":{"line":1,"column":231}},{"source":"js/modal.js","name":"document","original":{"line":36,"column":34},"generated":{"line":1,"column":236}},{"source":"js/modal.js","name":"querySelectorAll","original":{"line":36,"column":43},"generated":{"line":1,"column":245}},{"source":"js/modal.js","original":{"line":36,"column":60},"generated":{"line":1,"column":262}},{"source":"js/modal.js","name":"console","original":{"line":37,"column":2},"generated":{"line":1,"column":280}},{"source":"js/modal.js","name":"log","original":{"line":37,"column":10},"generated":{"line":1,"column":288}},{"source":"js/modal.js","original":{"line":37,"column":14},"generated":{"line":1,"column":292}},{"source":"js/modal.js","name":"modalTrigger","original":{"line":37,"column":34},"generated":{"line":1,"column":310}},{"source":"js/modal.js","name":"modalTrigger","original":{"line":39,"column":2},"generated":{"line":1,"column":313}},{"source":"js/modal.js","name":"forEach","original":{"line":39,"column":15},"generated":{"line":1,"column":315}},{"source":"js/modal.js","original":{"line":39,"column":23},"generated":{"line":1,"column":323}},{"source":"js/modal.js","name":"element","original":{"line":39,"column":23},"generated":{"line":1,"column":332}},{"source":"js/modal.js","name":"element","original":{"line":40,"column":4},"generated":{"line":1,"column":335}},{"source":"js/modal.js","name":"addEventListener","original":{"line":40,"column":12},"generated":{"line":1,"column":337}},{"source":"js/modal.js","original":{"line":40,"column":29},"generated":{"line":1,"column":354}},{"source":"js/modal.js","original":{"line":40,"column":38},"generated":{"line":1,"column":362}},{"source":"js/modal.js","name":"event","original":{"line":40,"column":38},"generated":{"line":1,"column":371}},{"source":"js/modal.js","name":"targetModalId","original":{"line":41,"column":12},"generated":{"line":1,"column":374}},{"source":"js/modal.js","name":"selector","original":{"line":13,"column":21},"generated":{"line":1,"column":378}},{"source":"js/modal.js","name":"targetModalId","original":{"line":41,"column":12},"generated":{"line":1,"column":380}},{"source":"js/modal.js","name":"event","original":{"line":41,"column":28},"generated":{"line":1,"column":382}},{"source":"js/modal.js","name":"target","original":{"line":41,"column":34},"generated":{"line":1,"column":384}},{"source":"js/modal.js","name":"attributes","original":{"line":41,"column":41},"generated":{"line":1,"column":391}},{"source":"js/modal.js","original":{"line":41,"column":52},"generated":{"line":1,"column":402}},{"source":"js/modal.js","name":"value","original":{"line":41,"column":67},"generated":{"line":1,"column":417}},{"source":"js/modal.js","name":"console","original":{"line":42,"column":6},"generated":{"line":1,"column":423}},{"source":"js/modal.js","name":"log","original":{"line":42,"column":14},"generated":{"line":1,"column":431}},{"source":"js/modal.js","original":{"line":42,"column":18},"generated":{"line":1,"column":435}},{"source":"js/modal.js","name":"targetModalId","original":{"line":42,"column":39},"generated":{"line":1,"column":454}},{"source":"js/modal.js","name":"selector","original":{"line":13,"column":21},"generated":{"line":1,"column":457}},{"source":"js/modal.js","name":"targetModalId","original":{"line":43,"column":16},"generated":{"line":1,"column":459}},{"source":"js/modal.js","name":"prevScrollYPosition","original":{"line":14,"column":4},"generated":{"line":1,"column":461}},{"source":"js/modal.js","name":"pageOffset","original":{"line":14,"column":26},"generated":{"line":1,"column":481}},{"source":"js/modal.js","name":"prevBodyOverflow","original":{"line":15,"column":4},"generated":{"line":1,"column":485}},{"source":"js/modal.js","name":"document","original":{"line":15,"column":23},"generated":{"line":1,"column":487}},{"source":"js/modal.js","name":"body","original":{"line":15,"column":32},"generated":{"line":1,"column":496}},{"source":"js/modal.js","name":"style","original":{"line":15,"column":37},"generated":{"line":1,"column":501}},{"source":"js/modal.js","name":"overflow","original":{"line":15,"column":43},"generated":{"line":1,"column":507}},{"source":"js/modal.js","name":"document","original":{"line":16,"column":15},"generated":{"line":1,"column":516}},{"source":"js/modal.js","name":"getElementById","original":{"line":16,"column":24},"generated":{"line":1,"column":525}},{"source":"js/modal.js","name":"selector","original":{"line":16,"column":39},"generated":{"line":1,"column":540}},{"source":"js/modal.js","name":"classList","original":{"line":17,"column":7},"generated":{"line":1,"column":543}},{"source":"js/modal.js","name":"add","original":{"line":17,"column":17},"generated":{"line":1,"column":553}},{"source":"js/modal.js","original":{"line":17,"column":21},"generated":{"line":1,"column":557}},{"source":"js/modal.js","name":"document","original":{"line":18,"column":4},"generated":{"line":1,"column":568}},{"source":"js/modal.js","name":"body","original":{"line":18,"column":13},"generated":{"line":1,"column":577}},{"source":"js/modal.js","name":"style","original":{"line":18,"column":18},"generated":{"line":1,"column":582}},{"source":"js/modal.js","name":"overflow","original":{"line":18,"column":24},"generated":{"line":1,"column":588}},{"source":"js/modal.js","original":{"line":18,"column":35},"generated":{"line":1,"column":597}},{"source":"js/modal.js","name":"document","original":{"line":19,"column":4},"generated":{"line":1,"column":606}},{"source":"js/modal.js","name":"body","original":{"line":19,"column":13},"generated":{"line":1,"column":615}},{"source":"js/modal.js","name":"style","original":{"line":19,"column":18},"generated":{"line":1,"column":620}},{"source":"js/modal.js","name":"marginRight","original":{"line":19,"column":24},"generated":{"line":1,"column":626}},{"source":"js/modal.js","name":"scrollbarWidth","original":{"line":19,"column":38},"generated":{"line":1,"column":638}},{"source":"js/modal.js","name":"btnOpenElem","original":{"line":20,"column":4},"generated":{"line":1,"column":640}},{"source":"js/modal.js","name":"classList","original":{"line":20,"column":16},"generated":{"line":1,"column":652}},{"source":"js/modal.js","name":"remove","original":{"line":20,"column":26},"generated":{"line":1,"column":662}},{"source":"js/modal.js","original":{"line":20,"column":33},"generated":{"line":1,"column":669}},{"source":"js/modal.js","name":"modalCloseTrigger","original":{"line":49,"column":8},"generated":{"line":1,"column":685}},{"source":"js/modal.js","name":"modalCloseTrigger","original":{"line":49,"column":8},"generated":{"line":1,"column":689}},{"source":"js/modal.js","name":"Array","original":{"line":49,"column":28},"generated":{"line":1,"column":691}},{"source":"js/modal.js","name":"from","original":{"line":49,"column":34},"generated":{"line":1,"column":697}},{"source":"js/modal.js","name":"document","original":{"line":49,"column":39},"generated":{"line":1,"column":702}},{"source":"js/modal.js","name":"querySelectorAll","original":{"line":49,"column":48},"generated":{"line":1,"column":711}},{"source":"js/modal.js","original":{"line":49,"column":65},"generated":{"line":1,"column":728}},{"source":"js/modal.js","name":"console","original":{"line":50,"column":2},"generated":{"line":1,"column":752}},{"source":"js/modal.js","name":"log","original":{"line":50,"column":10},"generated":{"line":1,"column":760}},{"source":"js/modal.js","name":"modalCloseTrigger","original":{"line":50,"column":14},"generated":{"line":1,"column":764}},{"source":"js/modal.js","name":"modalCloseTrigger","original":{"line":51,"column":2},"generated":{"line":1,"column":767}},{"source":"js/modal.js","name":"forEach","original":{"line":51,"column":20},"generated":{"line":1,"column":769}},{"source":"js/modal.js","original":{"line":51,"column":28},"generated":{"line":1,"column":777}},{"source":"js/modal.js","name":"element","original":{"line":51,"column":28},"generated":{"line":1,"column":786}},{"source":"js/modal.js","name":"element","original":{"line":52,"column":4},"generated":{"line":1,"column":789}},{"source":"js/modal.js","name":"addEventListener","original":{"line":52,"column":12},"generated":{"line":1,"column":791}},{"source":"js/modal.js","original":{"line":52,"column":29},"generated":{"line":1,"column":808}},{"source":"js/modal.js","original":{"line":52,"column":38},"generated":{"line":1,"column":816}},{"source":"js/modal.js","name":"event","original":{"line":52,"column":38},"generated":{"line":1,"column":825}},{"source":"js/modal.js","name":"targetModalId","original":{"line":53,"column":12},"generated":{"line":1,"column":828}},{"source":"js/modal.js","name":"selector","original":{"line":23,"column":22},"generated":{"line":1,"column":832}},{"source":"js/modal.js","name":"targetModalId","original":{"line":53,"column":12},"generated":{"line":1,"column":834}},{"source":"js/modal.js","name":"event","original":{"line":53,"column":28},"generated":{"line":1,"column":836}},{"source":"js/modal.js","name":"target","original":{"line":53,"column":34},"generated":{"line":1,"column":838}},{"source":"js/modal.js","name":"attributes","original":{"line":53,"column":41},"generated":{"line":1,"column":845}},{"source":"js/modal.js","original":{"line":53,"column":52},"generated":{"line":1,"column":856}},{"source":"js/modal.js","name":"value","original":{"line":53,"column":73},"generated":{"line":1,"column":877}},{"source":"js/modal.js","name":"console","original":{"line":54,"column":6},"generated":{"line":1,"column":883}},{"source":"js/modal.js","name":"log","original":{"line":54,"column":14},"generated":{"line":1,"column":891}},{"source":"js/modal.js","original":{"line":54,"column":18},"generated":{"line":1,"column":895}},{"source":"js/modal.js","name":"targetModalId","original":{"line":54,"column":39},"generated":{"line":1,"column":914}},{"source":"js/modal.js","name":"selector","original":{"line":23,"column":22},"generated":{"line":1,"column":917}},{"source":"js/modal.js","name":"targetModalId","original":{"line":55,"column":17},"generated":{"line":1,"column":919}},{"source":"js/modal.js","name":"document","original":{"line":24,"column":15},"generated":{"line":1,"column":921}},{"source":"js/modal.js","name":"getElementById","original":{"line":24,"column":24},"generated":{"line":1,"column":930}},{"source":"js/modal.js","name":"selector","original":{"line":24,"column":39},"generated":{"line":1,"column":945}},{"source":"js/modal.js","name":"classList","original":{"line":25,"column":7},"generated":{"line":1,"column":948}},{"source":"js/modal.js","name":"remove","original":{"line":25,"column":17},"generated":{"line":1,"column":958}},{"source":"js/modal.js","original":{"line":25,"column":24},"generated":{"line":1,"column":965}},{"source":"js/modal.js","name":"setTimeout","original":{"line":27,"column":4},"generated":{"line":1,"column":976}},{"source":"js/modal.js","original":{"line":27,"column":15},"generated":{"line":1,"column":987}},{"source":"js/modal.js","name":"document","original":{"line":28,"column":6},"generated":{"line":1,"column":998}},{"source":"js/modal.js","name":"body","original":{"line":28,"column":15},"generated":{"line":1,"column":1007}},{"source":"js/modal.js","name":"style","original":{"line":28,"column":20},"generated":{"line":1,"column":1012}},{"source":"js/modal.js","name":"overflow","original":{"line":28,"column":26},"generated":{"line":1,"column":1018}},{"source":"js/modal.js","name":"prevBodyOverflow","original":{"line":28,"column":37},"generated":{"line":1,"column":1027}},{"source":"js/modal.js","name":"document","original":{"line":29,"column":6},"generated":{"line":1,"column":1029}},{"source":"js/modal.js","name":"body","original":{"line":29,"column":15},"generated":{"line":1,"column":1038}},{"source":"js/modal.js","name":"style","original":{"line":29,"column":20},"generated":{"line":1,"column":1043}},{"source":"js/modal.js","name":"marginRight","original":{"line":29,"column":26},"generated":{"line":1,"column":1049}},{"source":"js/modal.js","original":{"line":29,"column":40},"generated":{"line":1,"column":1061}},{"source":"js/modal.js","name":"btnOpenElem","original":{"line":30,"column":6},"generated":{"line":1,"column":1063}},{"source":"js/modal.js","name":"classList","original":{"line":30,"column":18},"generated":{"line":1,"column":1075}},{"source":"js/modal.js","name":"add","original":{"line":30,"column":28},"generated":{"line":1,"column":1085}},{"source":"js/modal.js","original":{"line":30,"column":32},"generated":{"line":1,"column":1089}},{"source":"js/modal.js","original":{"line":31,"column":7},"generated":{"line":1,"column":1102}}],"sources":{"js/modal.js":"// ------------------ скрипты модального меню -------------------\r\n\r\n// убрать скролл страницы после отображения модального окна\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\r\n  // вычисляем ширину полосы прокрутки и берем ее модуль\r\n  const scrollbarWidth = Math.abs(document.body.clientWidth - window.innerWidth) + 'px';\r\n\r\n  const pageOffset = () => (window.pageYOffset || window.scrollY);\r\n  let prevBodyOverflow = document.body.style.overflow || 'initial'; // сохраняем значение overflow на старте страницы\r\n\r\n  // функция отрабатывающая открытие модального окна\r\n  function openModal(selector) {\r\n    prevScrollYPosition = pageOffset(); // сохраняем значение параметра scrollY\r\n    prevBodyOverflow = document.body.style.overflow; // сохраняем значение overflow до открытия модалки\r\n    const el = document.getElementById(selector);\r\n    el.classList.add('_opened'); // добавляем модификатор _opened\r\n    document.body.style.overflow = 'hidden'; // скрываем полосу прокрутки\r\n    document.body.style.marginRight = scrollbarWidth; // компенсируем отсутсвие полосы прокрутки (иначе будет скачкообразнное смещение страницы)\r\n    btnOpenElem.classList.remove('_visible');\r\n  }\r\n  // функция отрабатывающая закрытие модального окна\r\n  function closeModal(selector) {\r\n    const el = document.getElementById(selector);\r\n    el.classList.remove('_opened'); // удаляем модификатор _opened\r\n    // ждем пока отработает transition в CSS, чтобы вернуть полосу прокрутки\r\n    setTimeout(() => {\r\n      document.body.style.overflow = prevBodyOverflow;\r\n      document.body.style.marginRight = 0;\r\n      btnOpenElem.classList.add('_visible');\r\n    }, 200); // время transition в CSS\r\n  }\r\n\r\n  // смотрим на какую кнопку нажали\r\n  // это кнопки вызывающие открытие модалки\r\n  const modalTrigger = Array.from(document.querySelectorAll('[mobile-menu]')); // формируем массив из всех элементов содержащих mobile-menu\r\n  console.log('modalTrigger = ' + modalTrigger); // проверяем, что он сформировался\r\n  // перебираем массив и выделяем элемент по которому кликнули\r\n  modalTrigger.forEach(element => {\r\n    element.addEventListener('click', event => {\r\n      const targetModalId = event.target.attributes['mobile-menu'].value;\r\n      console.log('targetModalId = ' + targetModalId); // проверяем тот ли это элемент\r\n      openModal(targetModalId); // обращаемся к функции, которая откроет модалку\r\n    });\r\n  });\r\n\r\n  // смотрим на какую кнопку нажали\r\n  // это кнопки вызывающие закрытие модалки\r\n  const modalCloseTrigger = Array.from(document.querySelectorAll('[mobile-menu-close]'));\r\n  console.log(modalCloseTrigger);\r\n  modalCloseTrigger.forEach(element => {\r\n    element.addEventListener('click', event => {\r\n      const targetModalId = event.target.attributes['mobile-menu-close'].value;\r\n      console.log('targetModalId = ' + targetModalId);\r\n      closeModal(targetModalId);\r\n    });\r\n  });\r\n\r\n});"},"lineCount":null}},"error":null,"hash":"7f447f40677e7a536df2927c5e7f9cb0","cacheData":{"env":{}}}